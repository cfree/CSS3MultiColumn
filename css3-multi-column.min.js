function CSS3MultiColumn(){function loadStylesheets(){if(document.styleSheets){for(var e=0;e<document.styleSheets.length;e++)cssCache[document.styleSheets[e].href]=!1;for(var e=0;e<document.styleSheets.length;e++)loadCssCache(document.styleSheets[e],"parseStylesheets")}else if(document.getElementsByTagName){for(var t=document.getElementsByTagName("link"),e=0;e<t.length;e++)cssCache[t[e].href]=!1;for(var e=0;e<t.length;e++)loadCssCache(t[e],"parseStylesheets")}}function loadCssCache(s,callback){if(!s.href||-1==s.href.indexOf(location.host)||s.href.indexOf(location.host)>50)return!1;if(s.href&&s.cssText&&(cssCache[s.href]=s.cssText,eval(callback)()),s.href&&"undefined"!=typeof XMLHttpRequest){var xmlhttp=new XMLHttpRequest;xmlhttp.onreadystatechange=function(){4==xmlhttp.readyState&&("undefined"==typeof xmlhttp.status||200==xmlhttp.status||304==xmlhttp.status)&&(cssCache[s.href]=xmlhttp.responseText,eval(callback)())},xmlhttp.open("GET",s.href,!0),xmlhttp.send(null)}}function parseStylesheets(){var e=!0;for(var t in cssCache)0!=cssCache[t]?parseStylesheet(cssCache[t]):e=!1;e&&processElements()}function parseStylesheet(e){for(var t=new ut.getPseudoCssRules("column-count",e),n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-count"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-width",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-width"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-gap",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-gap"]=t.cssRules[n].value;t=new ut.getPseudoCssRules("column-rule",e);for(var n=0;t&&n<t.cssRules.length;n++)pseudoCSSRules[t.cssRules[n].selectorText]||(pseudoCSSRules[t.cssRules[n].selectorText]=new Object),pseudoCSSRules[t.cssRules[n].selectorText]["column-rule"]=t.cssRules[n].value}function processElements(){if(documentReady)for(var e in pseudoCSSRules){debug(e+" cc:"+pseudoCSSRules[e]["column-count"]+" cw:"+pseudoCSSRules[e]["column-width"]+" cr:"+pseudoCSSRules[e]["column-rule"]+" cg:"+pseudoCSSRules[e]["column-gap"]);for(var t=ut.cssQuery(e),n=0;n<t.length;n++)processElement(t[n],pseudoCSSRules[e]["column-count"],pseudoCSSRules[e]["column-width"],pseudoCSSRules[e]["column-gap"],pseudoCSSRules[e]["column-rule"])}}function processElement(e,t,n,s,r){var o,l,i=0;if(e.clientWidth&&0!=e.clientWidth){var a;e.currentStyle?a=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(a=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(a)&&(a=0),l=(e.clientWidth-a).toString()+"px"}else if(e.scrollWidth){var d,a;e.currentStyle?a=parseInt(e.currentStyle.paddingLeft.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.paddingRight.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(a=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("padding-left").replace(/[\D]*/gi,""))),isNaN(a)&&(a=0),e.currentStyle?d=parseInt(e.currentStyle.borderLeftWidth.replace(/[\D]*/gi,""))+parseInt(e.currentStyle.borderRightWidth.replace(/[\D]*/gi,"")):document.defaultView&&document.defaultView.getComputedStyle&&(d=parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-left-width").replace(/[\D]*/gi,""))+parseInt(document.defaultView.getComputedStyle(e,"").getPropertyValue("border-right-width").replace(/[\D]*/gi,""))),isNaN(d)&&(d=0),l=(e.scrollWidth-a-d).toString()+"px"}else l="99%";var u=parseInt(l.replace(/[\D]*/gi,""));o=n&&"auto"!=n?n.replace(/[\d]*/gi,""):l.replace(/[\d]*/gi,""),o||(o="px"),s=s?parseInt(s.replace(/[\D]*/gi,"")):"%"==o?1:15,r&&"none"!=r&&(s=Math.floor(s/2),i=s+parseInt(r.substring(r.search(/\d/),r.search(/\D/)))),n&&"auto"!=n?(n=parseInt(n.replace(/[\D]*/gi,"")),t&&"auto"!=t||(t=Math.floor(u/(n+s)))):n=(u-(s+i)*(t-1))/t,n-=1;var c=document.createElement("div"),p=e.parentNode;c=p.insertBefore(c,e);var f=p.removeChild(e);f=c.appendChild(f),c.className=f.className,f.className="",f.id=ut.randomId(),f.style.width=n.toString()+o,"undefined"!=typeof f.style.styleFloat&&(f.style.styleFloat="left"),"undefined"!=typeof f.style.cssFloat&&(f.style.cssFloat="left");var g=Math.floor(f.offsetHeight/t)+14;c.id||(c.id=ut.randomId());for(var h=1,m=1;t>m&&f&&t+5>h;m++)bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,g*m,c),isDebug&&(bestSplitPoint.style.border="1px solid #00FF00"),bestSplitPoint&&!isElementSplitable(bestSplitPoint)?(g=getElementRelativeTop(bestSplitPoint,c)+bestSplitPoint.offsetHeight+10,m=1,debug("reset new Height = "+g+" relativetop="+getElementRelativeTop(bestSplitPoint,c)+" offsetHeight= "+bestSplitPoint.offsetHeight)):bestSplitPoint||debug("No split point found with "+g),h++;debug("<table><tr><td>Avail. Width</td><td>"+u+"</td><td>Units</td><td>"+o+"</td></tr><tr><td>column_width</td><td>"+n+"</td><td>column_count</td><td>"+t+"</td></tr><tr><td>column_gap</td><td>"+s+"</td><td>column_rule</td><td>"+r+"</td></tr><tr><td>New Height</td><td>"+g+"</td><td></td><td></td></tr></table>");for(var m=1;t>m&&f;m++){if(bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,findSplitPoint(f,g,c),bestSplitPoint&&isElementSplitable(bestSplitPoint)&&f.id!=bestSplitPoint.id){var S=bestSplitPoint;isDebug&&(secondSplitPoint.style.border="1px dotted #00F")}else var S=secondSplitPoint;if(!S)return void debug("<hr />No split point found for "+f.tagName+" "+g);isDebug&&(S.style.border="1px solid #F00");var v=f.cloneNode(!1);v.id=ut.randomId(),f.parentNode.insertBefore(v,f.nextSibling),v.style.paddingLeft=s+o,r&&"none"!=r&&(v.style.borderLeft=r,f.style.paddingRight=s+o),document.all&&!window.opera&&(f.style.height=g+"px"),f.style.minHeight=g+"px";for(var y=(createNodeAncestors(S,f,v,"append"),S);y&&y.id!=f.id;){for(var C=y.nextSibling;C;)moveNode(C,f,v),C=y.nextSibling;y=y.parentNode}for(var b=splitElement(S,g-getElementRelativeTop(S,c),f,v),p=S.parentNode;p&&p.id!=f.id;){for(var N=p.firstChild;N;)1==N.nodeType&&0==N.childNodes.length||3==N.nodeType&&""==N.nodeValue.replace(/[\u0020\u0009\u000A]*/,"")?(p.removeChild(N),N=p.firstChild):N=N.nextSibling;p=p.parentNode}if(b&&(S=f.lastChild,S&&document.defaultView&&"justify"==document.defaultView.getComputedStyle(S,"").getPropertyValue("text-align")||S.currentStyle&&"justify"==S.currentStyle.textAlign)){var R=document.createTextNode(" "+b.replace(/./g,"Â ")),x=document.createElement("span");S.appendChild(x),x.style.lineHeight="1px",x.appendChild(R)}f=v}f&&(document.all&&!window.opera&&(f.style.height=g+"px"),f.style.minHeight=g+"px");var w=document.createElement("div");w.style.clear="left",w.appendChild(document.createTextNode(" ")),c.appendChild(w),navigator.userAgent.toLowerCase().indexOf("safari")+1&&(c.innerHTML+=" ")}function findSplitPoint(e,t,n){if(1==e.nodeType){var s=getElementRelativeTop(e,n),r=s+e.offsetHeight;if(t>s&&r>t){if(bestSplitPoint=e,isElementSplitable(e))for(var o=0;o<e.childNodes.length;o++)findSplitPoint(e.childNodes[o],t,n);return}t>=r&&r>=secondSplitBottom&&(secondSplitBottom=r,secondSplitPoint=e)}}function isElementSplitable(e){if(e.tagName)for(var t=e.tagName.toUpperCase(),n=0;n<splitableTags.length;n++)if(t==splitableTags[n])return!0;return!1}function splitElement(e,t,n,s){for(var r=e.lastChild;r;){if(3==r.nodeType){for(var o="dummmy",l="";e.offsetHeight>t+2&&""!=o;)o=stripOneLine(r),l=o+l;if(""!=l){var i=createNodeAncestors(r,n,s,"insertBefore");i.insertBefore(document.createTextNode(l),i.firstChild)}if(""!=r.nodeValue)break;r.parentNode.removeChild(r)}else{var i=createNodeAncestors(r,n,s,"insertBefore");i.insertBefore(r.parentNode.removeChild(r),i.firstChild)}r=e.lastChild}return o}function stripOneLine(e){for(;e&&3!=e.nodeType;)e=e.firstChild;if(e){var t=e.parentNode,n=t.offsetHeight;if(!n)return"";for(var s=e.nodeValue,r=e.nodeValue.lastIndexOf(" ");-1!=r&&t.offsetHeight==n;)e.nodeValue=e.nodeValue.substr(0,r),r=e.nodeValue.lastIndexOf(" "),-1==r&&(r=e.nodeValue.lastIndexOf("\n"));return t.offsetHeight==n&&(e.nodeValue=""),s.substr(e.nodeValue.length)}}function createNodeAncestors(e,t,n,s){for(var r=new Array,o=n,l=e.parentNode;l&&l.id!=t.id;)r[r.length]=l,l.id||(l.id=ut.randomId()),l=l.parentNode;for(var i=r.length-1;i>=0;i--){for(var a=0;a<o.childNodes.length&&(3==o.childNodes[a].nodeType||!o.childNodes[a].className.match(r[i].id+"-css3mc"));a++);if(a==o.childNodes.length){if(o="append"==s?o.appendChild(document.createElement(r[i].tagName)):o.insertBefore(document.createElement(r[i].tagName),o.firstChild),o.className=r[i].className+" "+r[i].id+"-css3mc",o.style.marginTop="0",o.style.paddingTop="0","OL"==o.tagName.toUpperCase()&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,u=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&u++,d=d.previousSibling;o.setAttribute("start",u)}}else if(o=o.childNodes[a],"OL"==o.tagName.toUpperCase()&&(-1==o.start||1==o.start)&&1==e.nodeType&&"LI"==e.tagName.toUpperCase()){for(var d=e.previousSibling,u=0;d;)1==d.nodeType&&"LI"==d.tagName.toUpperCase()&&u++,d=d.previousSibling;o.setAttribute("start",u)}}return o}function moveNode(e,t,n){var s=createNodeAncestors(e,t,n,"append"),r=s.appendChild(e.parentNode.removeChild(e));return s.id==n.id&&1==r.nodeType&&(r.style.paddingTop="0px",r.style.marginTop="0px"),r}function getElementRelativeTop(e,t){var n=0;if(e.offsetParent)for(;e.offsetParent;)n+=e.offsetTop,e=e.offsetParent;var s=0;if(t.offsetParent)for(;t.offsetParent;)s+=t.offsetTop,t=t.offsetParent;return n-s}var cssCache=new Object,splitableTags=new Array("P","DIV","SPAN","BLOCKQUOTE","ADDRESS","PRE","A","EM","I","STRONG","B","CITE","OL","UL","LI","ARTICLE","SECTION","ASIDE","FIGURE","FIGCAPTION","HEADER","FOOTER"),pseudoCSSRules=new Object,ut=new CSS3Utility,debug=ut.debug;if(document.location.search.match("mode=debug"))var isDebug=!0;else var isDebug=!1;var bestSplitPoint=null,secondSplitPoint=null,secondSplitBottom=0,documentReady=!1;ut.XBrowserAddEventHandler(window,"load",function(){documentReady=!0,processElements()}),loadStylesheets()}function CSS3Utility(){this.handlerList=new Array}CSS3Utility.prototype.cssQuery=function(){function e(e,s){if(!e)return[];var r=arguments.callee.caching&&!s;s=s?s.constructor==Array?s:[s]:[document],f=!1;var o=t(e).split(","),i=[];for(var a in o){e=n(o[a]);for(var d,u,c=0,p="",g=s;c<e.length;)d=e[c++],u=e[c++],p+=d+u,g=r&&w[p]?w[p]:l(g,d,u),r&&(w[p]=g);i=i.concat(g)}return i}function t(e){return e.replace(C,b).replace(o.ALL,o.ID).replace(v,y)}function n(e){return h.test(e)&&(e=" "+e),e.match(m)||[]}function s(e){return E.test(e)?e:"'"+e+"'"}function r(e){return E.test(e)?e.slice(1,-1):e}function o(e,t,n){this.id=P.length;var o="element.";switch(e.toLowerCase()){case"id":o+="id";break;case"class":o+="className";break;default:o+="getAttribute('"+e+"')"}switch(t){case"=":o+="=="+s(n);break;case"~=":o="/(^|\\s)"+r(n)+"(\\s|$)/.test("+o+")";break;case"|=":o="/(^|-)"+r(n)+"(-|$)/.test("+o+")"}p(P,new Function("element","return "+o))}function l(e,t,n){var s="";S.test(n)&&(n=n.split("|"),s=n[0],n=n[1]);var r,o=[];switch(t){case" ":for(r in e)if("function"!=typeof e[r])for(var l=I(e[r],n,s),d=0;d<l.length;d++)!c(l[d])||s&&!a(l[d],s)||p(o,l[d]);break;case">":for(r in e)for(var l=e[r].childNodes,d=0;d<l.length;d++)i(l[d],n,s)&&p(o,l[d]);break;case"+":for(r in e){var f=u(e[r]);f&&i(f,n,s)&&p(o,f)}break;case"~":for(r in e)for(var f=e[r];f=u(f);)f&&i(f,n,s)&&p(o,f);break;case".":n=new RegExp("(^|\\s)"+n+"(\\s|$)");for(r in e)n.test(e[r].className)&&p(o,e[r]);break;case"#":for(r in e)e[r].id==n&&p(o,e[r]);break;case"@":n=P[n];for(r in e)n(e[r])&&p(o,e[r]);break;case":":n=T[n];for(r in e)n(e[r])&&p(o,e[r])}return o}function i(e,t,n){return n&&!a(e,n)?!1:"*"==t?c(e):f?e.tagName==t:e.tagName==t.toUpperCase()}function a(e,t){return e[L]==t}function d(e){for(;(e=e.previousSibling)&&!c(e);)continue;return e}function u(e){for(;(e=e.nextSibling)&&!c(e);)continue;return e}function c(e){return Boolean(e.nodeType==N&&"!"!=e.tagName)}function p(e,t){e[e.length]=t}var f,g="1.0.1",h=/^[^>\+~\s]/,m=/[\s>\+~:@#\.]|[^\s>\+~:@#\.]+/g,S=/\|/,v=/([\s>\+~\,]|^)([\.:#@])/g,y="$1*$2",C=/^\s+|\s*([\+\,>\s;:])\s*|\s+$/g,b="$1",N=1,R=3,x=/MSIE/.test(navigator.appVersion),w={};e.caching=!1,e.reset=function(){w={}},e.toString=function(){return"function cssQuery() {\n  [version "+g+"]\n}"};var T={link:function(e){for(var t=0;t<document.links;t++)if(document.links[t]==e)return!0},visited:function(){},"first-child":function(e){return!d(e)},"last-child":function(e){return!u(e)},root:function(e){var t=e.ownerDocument||e.document;return Boolean(e==t.documentElement)},empty:function(e){for(var t=0;t<e.childNodes.length;t++)if(c(e.childNodes[t])||e.childNodes[t].nodeType==R)return!1;return!0}},E=/([\'\"])[^\1]*\1/,P=[];o.prototype.toString=function(){return o.PREFIX+this.id},o.PREFIX="@",o.ALL=/\[([^~|=\]]+)([~|]?=?)([^\]]+)?\]/g,o.ID=function(e,t,n,s){return new o(t,n,s)};var I=x?function(e,t){return"*"==t&&e.all?e.all:e.getElementsByTagName(t)}:function(e,t,n){return n?e.getElementsByTagNameNS("*",t):e.getElementsByTagName(t)},L=x?"scopeName":"prefix";if("i".replace(/i/,function(){return""})){var V=String.prototype.replace,A=function(e,t){for(var n,s="",r=this;n=e.exec(r);)s+=r.slice(0,n.index)+t(n[0],n[1],n[2],n[3],n[4]),r=r.slice(n.lastIndex);return s+r};String.prototype.replace=function(e,t){return this.replace="function"==typeof t?A:V,this.replace(e,t)}}return e}(),CSS3Utility.prototype.XBrowserAddEventHandler=function(target,eventName,handlerName){if(target){if(target.addEventListener)target.addEventListener(eventName,function(e){eval(handlerName)(e)},!1);else if(target.attachEvent)target.attachEvent("on"+eventName,function(e){eval(handlerName)(e)});else{var originalHandler=target["on"+eventName];target["on"+eventName]=originalHandler?function(e){originalHandler(e),eval(handlerName)(e)}:eval(handlerName)}var l=this.handlerList.length;this.handlerList[l]=new Array(2),this.handlerList[l][0]=target.id,this.handlerList[l][1]=eventName}},CSS3Utility.prototype.getPseudoCssRules=function(e,t){this.cssRules=new Array;for(var n=e.replace("-","-")+"[\\s]*:[\\s]*([^;}]*)[;}]",s=new RegExp(n,"g"),r=s.exec(t),o=0;r;){var l=t.substr(0,t.substr(0,t.indexOf(r[0])).lastIndexOf("{")),i=l.substr(l.lastIndexOf("}")+1).replace(/^\s*|\s*$/g,"");this.cssRules[o]=new Object,this.cssRules[o].selectorText=i,this.cssRules[o].property=e,this.cssRules[o].value=r[1].replace(/(\r?\n)*/g,""),o++,r=s.exec(t)}},CSS3Utility.prototype.randomId=function(){for(var e="",t=0;6>t;t++)e+=String.fromCharCode(97+Math.floor(24*Math.random()));return e},CSS3Utility.prototype.debug=function(e){var t=document.getElementById("debugOutput");"undefined"!=typeof t&&t&&(t.innerHTML+=e)};var css3MC=new CSS3MultiColumn;